# 1. Intro a Python

## 1.1 Introduciendo Python

El objetivo de este cap√≠tulo es introducir las bases de Python. Iniciaremos desde cero y aprenderemos a editar, ejecutar, y depurar programas. Adem√°s, escribiremos una secuencia de comandos que lee data en un archivo CSV y ejecuta un c√°lculo.

### 1.1.1: Qu√© es Python?

Python es un lenguaje interpretado de programaci√≥n de alto nivel. A menudo se le clasifica como un *lenguaje de secuencias de comandos* y tambi√©n se le considera similar a lenguajes como Perl, Tcl o Ruby. La sintaxis de Python est√° vagamente inspirada en elementos de la programaci√≥n C. Python fue creado por Guido van Rossum alrededor de 1990, quien lo nombr√≥ en honor a la comedia de origen brit√°nico *Monty Python*.

### 1.1.2: Donde consigo Python?

Puedes obtener una versi√≥n de Python en [Python.org](https://www.python.org/downloads/). Para los prop√≥sitos de este curso, solo necesitas una instalaci√≥n b√°sica. Recomiendo instalar Python 3.6 o una versi√≥n m√°s reciente. Python 3.6 es el que se usa en las notas y en las soluciones, sin embargo puedes utilizar cualquier versi√≥n.

### 1.1.3: Porqu√© fue creado?

En palabras del creador de Python:

> Mi motivaci√≥n original para crear Python fue la necesidad percibida de un lenguaje de alto nivel en el proyecto Amoeba \[Sistemas Operativos\].¬†Me di cuenta de que el desarrollo de las utilidades de administraci√≥n del sistema en C estaban tardando demasiado.¬†Adem√°s, hacer estas cosas en el shell Bourne no iba a funcionar por una variedad de razones.¬†... Entonces, era necesario un lenguaje que cerrara la brecha entre C y el shell.
>
> Guido van Rossum

### 1.1.4: D√≥nde est√° Python en mi Maquina?

Aunque hay muchos entornos en los que puede ejecutar Python, Python normalmente se instala en su m√°quina como un programa que se ejecuta desde la terminal o el *shell* de comandos. Desde la terminal, deber√≠a poder escribir python as√≠:

```shell
$ python
Python 3.8.1 (default, Feb 20 2020, 09:29:22)
[Clang 10.0.0 (clang-1000.10.44.4)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> print("hello world")
hello world
>>>
```

Aunque hay muchos entornos en donde puede programar en Python, ser√° un programador m√°s fuerte si puede ejecutar, depurar e interactuar con Python en la terminal. Este es el entorno nativo de Python. Si puede usar Python aqu√≠, podr√° usarlo en cualquier otro lugar.

### 1.1.5: Ejercicios

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/intro#ejercicios.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

#### Ejercicio 1.1: Utilizando Python como Calculadora

En su m√°quina, inicie Python y util√≠celo como calculador para resolver el siguiente problema.

El suertudo de Juan compr√≥ 75 acciones de Google a un precio de `$235.14` USD por acci√≥n. Hoy, las acciones de Google tienen un precio de `$711.25` USD. Usando el modo interactivo de Python como una calculadora, averig√ºe cu√°ntas ganancias obtendr√≠a Juan si vendiera todas sus acciones.

```python
>>> (711.25 - 235.14) * 75
35708.25
>>>
```

Consejo profesional: use la variable de subrayado (`_`) para usar el resultado del √∫ltimo c√°lculo. *Por ejemplo, ¬øcu√°ntas ganancias obtiene Juan despu√©s de que su malvado corredor se lleva su parte del 20%?*

```shell
>>> _ * 0.80
28566.600000000002
>>>
```

#### Ejercicio 1.2: Consiguiendo ayuda

Utilice el comando `help()` para obtener ayuda sobre la funci√≥n `abs()`. Luego use `help()` para obtener ayuda sobre la funci√≥n `round()`. Escriba `help()`, asi sin valor alguno, para ingresar al visor de ayuda interactiva.

Una advertencia con `help()` es que no funciona para declaraciones b√°sicas de Python como for, if, while, etc. (es decir, si escribe `help(for)` obtendr√° un error de sintaxis). En su lugar, puede intentar poner el tema de la ayuda entre comillas: `help('for')`. Si eso no funciona, tendr√° que recurrir a una b√∫squeda en Internet.

Seguimiento: vaya a http://docs.python.org y busque la documentaci√≥n de la funci√≥n `abs()` (pista: se encuentra en la referencia de la biblioteca relacionada con las funciones integradas).

#### Ejercicio 1.3: Copiar y pegar

Este curso est√° estructurado como una serie de p√°ginas en las que se le anima a probar ejemplos interactivos de c√≥digo Python escribi√©ndolos a mano. Si est√° aprendiendo Python por primera vez, se recomienda este "enfoque lento". Obtendr√° una mejor idea del idioma al reducir la velocidad, escribir cosas y pensar en lo que est√° haciendo.

Si debe "cortar y pegar" ejemplos de c√≥digo, seleccione el c√≥digo comenzando despu√©s del indicador `>>>` y subiendo hasta, pero no m√°s all√° de la primera l√≠nea en blanco o el siguiente mensaje `>>>` (lo que aparezca primero). Seleccione "copiar" en el navegador, vaya a la ventana de Python y seleccione "pegar" para copiarlo en el shell de Python. Para que el c√≥digo se ejecute, es posible que deba presionar "Retorno" una vez despu√©s de haberlo pegado.

Corte y pegue las siguientes declaraciones de Python:

```python
>>> 12 + 20
32
>>> (3 + 4
         + 5 + 6)
18
>>> for i in range(5):
        print(i)

0
1
2
3
4
>>>
```

Advertencia: No es posible pegar m√°s de un comando de Python (declaraciones que aparecen despu√©s de `>>>`) en el shell b√°sico de Python a la vez. Tienes que pegar cada comando de uno en uno.

Ahora que ha hecho esto, recuerde que sacar√° m√°s provecho de la clase escribiendo el c√≥digo lentamente y pensando en ello, no cortando y pegando.

#### Ejercicio 1.4: Donde esta mi bus?

Pruebe algo m√°s avanzado y escriba estas declaraciones para averiguar cu√°nto tiempo tendr√°n que esperar las personas que esperan en la esquina de la calle Clark y Balmoral en Chicago al pr√≥ximo autob√∫s CTA n. ¬∞ 22 en direcci√≥n norte:

```python
>>> import urllib.request
>>> u = urllib.request.urlopen('http://ctabustracker.com/bustime/map/getStopPredictions.jsp?stop=14791&route=22')
>>> from xml.etree.ElementTree import parse
>>> doc = parse(u)
>>> for pt in doc.findall('.//pt'):
        print(pt.text)

6 MIN
18 MIN
28 MIN
>>>
```

S√≠, acaba de descargar una p√°gina web, analizar un documento XML y extraer informaci√≥n √∫til en aproximadamente 6 l√≠neas de c√≥digo. Los datos a los que accedi√≥ en realidad alimentan el sitio web http://ctabustracker.com/bustime/home.jsp. Int√©ntelo nuevamente y observe c√≥mo cambian las predicciones.

Si falla la primera declaraci√≥n de importaci√≥n `import urllib.request`, probablemente est√© usando Python 2. Para este curso, debe asegurarse de que est√° usando Python 3.6 o m√°s reciente. Vaya a https://www.python.org para descargarlo si lo necesita.

Si su entorno de trabajo requiere el uso de un servidor proxy HTTP, es posible que deba configurar la variable de entorno HTTP_PROXY para que esta parte del ejercicio funcione.

Por ejemplo:

```python
>>> import os
>>> os.environ['HTTP_PROXY'] = 'http://suproxy.server.com'
>>>
```

Si no puede hacer que esto funcione, no se preocupe. El resto de este curso no tiene nada que ver con analizar XML.

## 1.2 Un primer programa

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/ejerciciospy#contenido.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

### 1.2.1: Ejecutando Python

Los programas de Python siempre se ejecutan dentro de un int√©rprete.

El int√©rprete es una aplicaci√≥n "basada en consola" que normalmente se ejecuta desde un shell de comandos.

```python
python3
Python 3.6.1 (v3.6.1:69c0db5050, Mar 21 2017, 01:21:04)
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>>
```

Los programadores expertos generalmente no tienen problemas para usar el int√©rprete de esta manera, pero no es tan f√°cil de usar para los principiantes. Es posible que est√© utilizando un entorno que proporciona una interfaz diferente a Python. Eso est√° bien, pero aprender a ejecutar la terminal de Python sigue siendo una habilidad √∫til.

### 1.2.2: Modo interactivo

Cuando inicias Python, obtienes un modo interactivo donde puedes experimentar.

Si comienza a escribir declaraciones, se ejecutar√°n de inmediato. No hay ciclo de edici√≥n / compilaci√≥n / ejecuci√≥n / depuraci√≥n.

```python
>>> print('hello world')
hello world
>>> 37*42
1554
>>> for i in range(5):
...     print(i)
...
0
1
2
3
4
>>>
```

Este llamado ciclo de lectura-evaluaci√≥n-impresi√≥n (o REPL, por sus siglas en ingl√©s) es muy √∫til para depurar y explorar.

**DETENTE**: si no puedes descubrir c√≥mo interactuar con Python, detengase y descubra c√≥mo hacerlo. Si est√° utilizando un IDE, es posible que est√© oculto detr√°s de una opci√≥n de men√∫ u otra ventana. Muchas partes de este curso asumen que puede interactuar con el int√©rprete.

Let's take a closer look at the elements of the REPL:

* `>>>` es el indicador del int√©rprete para iniciar una nueva declaraci√≥n.
* `...` es la indicaci√≥n del int√©rprete para continuar una declaraci√≥n. Ingrese una l√≠nea en blanco para terminar de escribir y ejecutar lo que ingres√≥.

El mensaje `...` puede aparecer o no seg√∫n el entorno. Para este curso, se muestra como espacios en blanco para que sea m√°s f√°cil cortar / pegar muestras de c√≥digo.

El gui√≥n bajo _ contiene el √∫ltimo resultado.

```python
>>> 37 * 42
1554
>>> _ * 2
3108
>>> _ + 50
3158
>>>
```

Esto solo es cierto en el modo interactivo. Nunca uses `_` en un programa.

### 1.2.3: Creando programas

Los programas se colocan en archivos `.py`.

```python
# hola.py
print('hola mundo')
```

Puede crear estos archivos con su editor de texto favorito.

### 1.2.4: Ejecutando programas

Para ejecutar un programa, ejec√∫telo en la terminal con el comando python. Por ejemplo, en la l√≠nea de comandos Unix:

```shell
$ python hola.py
hola mundo
$
```

O desde el shell de Windows:

```powershell
C:\AlgunDirectorio>hola.py
hello world

C:\AlgunDirectorio>c:\python36\python hola.py
hello world
```

Nota: en Windows, es posible que deba especificar una ruta completa al int√©rprete de Python, como `c:\python36\python`. Sin embargo, si Python se instala de la forma habitual, es posible que pueda simplemente escribir el nombre del programa, como hola.py.

### 1.2.5: Un ejemplo

Resolvamos el siguiente problema:

> Una ma√±ana, sales y colocas un billete de un d√≥lar en la acera de la torre Sears en Chicago. Cada d√≠a a partir de entonces, sales y colocas el doble de billetes. ¬øCu√°nto tiempo tarda la pila de billetes en superar la altura de la torre?

Una posible soluci√≥n:

```python
# sears.py
billete_grosor = 0.11 * 0.001 # Metros (0.11 mm)
sears_altura = 442 # Altura (metros)
num_billetes = 1
dia = 1

while num_billetes * billete_grosor < sears_altura:
    print(dia, num_billetes, num_billetes * billete_grosor)
    dia = dia + 1
    num_billetes = num_billetes * 2

print('N√∫mero de d√≠as', dia)
print('N√∫mero de facturas', num_billetes)
print('Altura final', num_billetes * billete_grosor)
```

Cuando lo ejecuta, obtiene el siguiente resultado:

```code
$ python3 sears.py
1 1 0.00011
2 2 0.00022
3 4 0.00044
4 8 0.00088
5 16 0.00176
6 32 0.00352
7 64 0.00704
8 128 0.01408
9 256 0.02816
10 512 0.05632
11 1024 0.11264
12 2048 0.22528
13 4096 0.45056
14 8192 0.90112
15 16384 1.80224
16 32768 3.60448
17 65536 7.20896
18 131072 14.41792
19 262144 28.83584
20 524288 57.67168
21 1048576 115.34336
22 2097152 230.68672
N√∫mero de d√≠as 23
N√∫mero de facturas 4194304
Altura final 461.37344
```

Usando este programa como gu√≠a, puede aprender una serie de conceptos b√°sicos importantes sobre Python.

### 1.2.6: Declaraciones

Un programa de Python es una secuencia de declaraciones:

```python
a = 3 + 4
b = a * 2
print(b)
```

Cada declaraci√≥n termina con una nueva l√≠nea. Las sentencias se ejecutan una tras otra hasta que el control llega al final del archivo.

### 1.2.7: Comentarios

Los comentarios son texto que no se ejecutar√°.

```python
a = 3 + 4
# Esto es un comentario
b = a * 2
print(b)
```

Los comentarios se indican con # y se extienden hasta el final de la l√≠nea.

### 1.2.8: Variables

Una variable es el nombre de un valor. Puede utilizar letras (min√∫sculas y may√∫sculas) de la a a la z, adem√°s del car√°cter subrayado `_`. Los n√∫meros tambi√©n pueden formar parte del nombre de una variable, excepto como primer car√°cter.

```python
altura = 442  # v√°lido
_height = 442 # v√°lido
altura2 = 442 # v√°lido
2height = 442 # inv√°lido
```

### 1.2.9: Tipos

Las variables no necesitan declararse con el tipo de valor. El tipo est√° asociado con el valor del lado derecho, no con el nombre de la variable.

```python
altura = 442            # Un n√∫mero entero
altura = 442.0          # Punto flotante
height = 'Muy alto'     # Una cadena
```

Python se escribe din√°micamente. El "tipo" percibido de una variable puede cambiar a medida que se ejecuta un programa en funci√≥n del valor actual que se le asigna.

### 1.2.10: Casos Sensitivos

Python distingue entre may√∫sculas y min√∫sculas. Las letras may√∫sculas y min√∫sculas se consideran letras diferentes. Todas estas son variables diferentes:

```python
nombre = 'Jake'
Nombre = 'Elwood'
NOMBRE = 'Guido'
```

Las declaraciones de idioma son siempre en min√∫sculas.

```python
while x < 0: # OK
WHILE x < 0: # ERROR
```

### 1.2.11: Ciclar

La instrucci√≥n `while` ejecuta un ciclo.

```python
while num_billetes * billete_grosor < sears_altura:
    print(dia, num_billetes, num_billetes * billete_grosor)
    dia = dia + 1
    num_billetes = num_billetes * 2

print('Numero de dias', dia)
```

Las declaraciones con sangr√≠a debajo del `while` se ejecutar√°n siempre que la expresi√≥n posterior al `while` sea verdadera / cierta.

### 1.2.12: Sangr√≠as (las de texto)

La sangr√≠a se usa para denotar grupos de declaraciones que van juntas. Considere el ejemplo anterior:

```python
while num_billetes * billete_grosor < sears_altura:
    print(dia, num_billetes, num_billetes * billete_grosor)
    dia = dia + 1
    num_billetes = num_billetes * 2

print('Numero de dias', dia)
```

La sangr√≠a agrupa las siguientes declaraciones juntas como las operaciones que se repiten:

```python
    print(dia, num_billetes, num_billetes * billete_grosor)
    dia = dia + 1
    num_billetes = num_billetes * 2
```

Debido a que la instrucci√≥n `print()` al final no tiene sangr√≠a, no pertenece al ciclo. La l√≠nea vac√≠a es solo para facilitar la lectura. No afecta la ejecuci√≥n.

### Sangr√≠as - Mejores pr√°cticas

* Utilice espacios en lugar de tabulaciones.
* Utilice 4 espacios por nivel.
* Utilice un editor compatible con Python.

El √∫nico requisito de Python es que la sangr√≠a dentro del mismo bloque sea consistente. Por ejemplo, esto es un error:

```python
while num_billetes * billete_grosor < sears_altura:
    print(dia, num_billetes, num_billetes * billete_grosor)
        dia = dia + 1  # error
    num_billetes = num_billetes * 2
```


### 1.2.13: Condicionales

La instrucci√≥n if se usa para ejecutar un condicional:

```python
if a > b:
    print('Computadora dice no')
else:
    print('Computadora dice si')
```

Puede verificar m√∫ltiples condiciones agregando verificaciones adicionales usando elif.

```python
if a > b:
    print('Computadora dice no')
elif a == b:
    print('Computadora dice si')
else:
    print('Computadora dice quizas')
```
### 1.2.14: Imprimiendo

La funci√≥n de impresi√≥n produce una sola l√≠nea de texto con los valores pasados.

```python
print('¬°Hola mundo!') # Imprime el texto '¬°Hola mundo!'
```

Puede utilizar variables. El texto impreso ser√° el valor de la variable, no el nombre.

```python
x = 100
print(x) # Imprime el texto '100'
```

Si pasa m√°s de un valor para imprimir, est√°n separados por espacios.

```python
nombre = 'Jake'
print('Mi nombre es', nombre) # Imprime el texto 'Mi nombre es Jake'
```

`print()` siempre pone una nueva l√≠nea al final.

```python
print('Hola')
print('Mi nombre es', 'Jake')
```
Esto imprime:

```code
shell
Hola
Mi nombre es Jake
```

La nueva l√≠nea adicional se puede suprimir:

```python
print('Hola', end = '')
print('Mi nombre es', 'Jake')
```
Este c√≥digo ahora se imprimir√°:

```shell
Hola mi nombre es Jake
```
### 1.2.15: Input (dato de entrada) de usuario

Para leer una l√≠nea de entrada de usuario escrita, use la funci√≥n `input()`:

```python
nombre = input('Ingrese su nombre:')
print('Tu nombre es', nombre)
```

`input` imprime un mensaje al usuario y devuelve su respuesta. Esto es √∫til para programas peque√±os, ejercicios de aprendizaje o depuraci√≥n simple. No se usa mucho para programas reales.

### 1.2.16: La declaraci√≥n "pass"

A veces vas a tener que especificar un  codigo de bloque nulo o vacio. La palabra clave ¬¥pass¬¥ es utilizado para eso. 

```python
if a > b:
    pass
else:
    print('La computadora dice falso')
```
Esto tambi√©n es llamado sentencia "no-op". No realiza nada. Sirve como un marcador de posici√≥n para sentencias. Posiblemente para que sean a√±adidos despu√©s. 

### 1.2.17: Ejercicios

Este es el primer conjunto de ejercicios en los que necesita crear archivos Python y ejecutarlos. A partir de este punto, se asume que est√° editando archivos en el directorio `./Work/`. Para ayudarle a localizar el lugar adecuado, se han creado varios archivos de inicio vac√≠os con los nombres de archivo adecuados. Busque el archivo `./Work/rebote.py` que se utiliz√≥ en el primer ejercicio.

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/ejerciciospy#ejercicios.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

#### Ejercicio 1.5: El rebote

Una pelota de goma se deja caer desde una altura de 100 metros y cada vez que golpea el suelo, rebota hasta 3/5 de la altura a la que cay√≥. Escriba un programa `bounce.py` que imprima una tabla que muestre la altura de los primeros 10 rebotes.

Su programa deber√≠a crear una tabla que se parezca a esto:

```shell
1 60,0
2 36,0
3 21.599999999999998
4 12.959999999999999
5 7.775999999999999
6 4.6655999999999995
7 2.7993599999999996
8 1,6796159999999998
9 1,0077695999999998
10 0.6046617599999998
```

*Nota: Puede limpiar un poco la salida si usa la funci√≥n `round()`. Intente usarlo para redondear la salida a 4 d√≠gitos.*

```shell
1 60,0
2 36,0
3 21,6
4 12,96
5 7.776
6 4.6656
7 2.7994
8 1,6796
9 1.0078
10 0.6047
```

#### Ejercicio 1.6: Depuraci√≥n

El siguiente fragmento de c√≥digo contiene c√≥digo del problema de la torre Sears. Tambi√©n tiene un error.

```python
billete_grosor = 0.11 * 0.001 # Metros (0.11 mm)
sears_altura = 442 # Altura (metros)
num_billetes = 1
dia = 1

while num_billetes * billete_grosor < sears_altura:
    print(dia, num_billetes, num_billetes * billete_grosor)
    dia = dias + 1
    num_billetes = num_billetes * 2

print ('N√∫mero de d√≠as', dia)
print ('N√∫mero de facturas', num_billetes)
print ('Altura final', num_billetes * billete_grosor)
```

Copie y pegue el c√≥digo que aparece arriba en un nuevo programa llamado `sears.py`. Cuando ejecute el c√≥digo, obtendr√° un mensaje de error que hace que el programa se bloquee de esta manera:

```shell
Traceback (most recent call last):
  File "sears.py", line 10, in <module>
    day = dias + 1
NameError: name 'dias' is not defined
```

Leer los mensajes de error es una parte importante del c√≥digo Python. Si su programa falla, la √∫ltima l√≠nea del mensaje de rastreo es la raz√≥n real por la cual el programa falla. Por encima de eso, deber√≠a ver un fragmento de c√≥digo fuente y luego un nombre de archivo de identificaci√≥n y un n√∫mero de l√≠nea.

* ¬øQu√© l√≠nea es el error?
* Cual es el error?
* Arreglar el error
* Ejecute el programa con √©xito

## 1.3 N√∫meros

Esta secci√≥n discute sobre c√°lculos matem√°ticos.

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/numeros#contenido.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

#### 1.3.1: Tipos de numeros

Python tiene 4 tipos de n√∫meros:

* Booleanos
* Enteros
* Punto flotante
* Complejo (n√∫meros imaginarios)

#### 1.3.2: Booleanos (bool)

Los booleanos tienen dos valores: `True`,` False`.

```python
a = True
b = False
```

Num√©ricamente, se eval√∫an como n√∫meros enteros con valor "1", "0".


```python
c = 4 + True # 5
d = False
if d == 0:
    print('d is False')
```

* Pero no escriba c√≥digo como ese. Ser√≠a extra√±o. *

#### 1.3.3: Enteros (int)

Valores firmados de tama√±o y base arbitraria:

```code
a = 37
b = -299392993727716627377128481812241231
c = 0x7fa8      # Hexadecimal
d = 0o253       # Octal
e = 0b10001111  # Binario
```

Operaciones comunes:

```code
x + y      Suma
x - y      Resta
x * y      Multiplicacion
x / y      Divisi√≥n (produce un flotante)
x // y     Divisi√≥n entera (produce un entero)
x % y      Modulo (devuelve el resto de la divisi√≥n)
x ** y     Potencia
x << n     Bit desplazamiento izquierda
x >> n     Bit desplazamiento derecha
x & y      Bit-wise AND
x | y      Bit-wise OR
x ^ y      Bit-wise XOR
~x         Bit-wise NOT
abs(x)     Valor absoluto
```

### 1.3.4: Punto flotante (float)

Utilice una notaci√≥n decimal o exponencial para especificar un valor de coma flotante:

```python
a = 37.45
b = 4e5 # 4 x 10**5 or 400,000
c = -1.345e-10
```

Los flotantes se representan con precisi√≥n doble utilizando la representaci√≥n de CPU nativa [IEEE 754](https://en.wikipedia.org/wiki/IEEE_754). Es lo mismo que el tipo "doble" en el lenguaje de programaci√≥n C.

* 17 d√≠gitos de precisi√≥n
* Exponente de -308 a 308

Tenga en cuenta que los n√∫meros de punto flotante son inexactos cuando representan decimales.

```python
>>> a = 2.1 + 4.2
>>> a == 6.3
False
>>> a
6.300000000000001
>>>
```

Esto **no es un problema de Python**, sino el *hardware* de punto flotante subyacente en la CPU.

Operaciones comunes:

```code
x + y      Suma
x - y      Resta
x * y      Multiplicacion
x / y      Division
x // y     Division entera
x % y      Modulo
x ** y     Potencia
abs(x)     Valor absoluto
```

Estos son los mismos operadores que los enteros, excepto los operadores bit a bit.
Las funciones matem√°ticas adicionales se encuentran en el m√≥dulo `math`.

```python
import math
a = math.sqrt(x)
b = math.sin(x)
c = math.cos(x)
d = math.tan(x)
e = math.log(x)
```

### 1.3.5: Comparaciones

Los siguientes operadores de comparaci√≥n / relacionales funcionan con n√∫meros:

```
x < y      Menor
x <= y     Menor o igual
x > y      Mayor
x >= y     Mayor o igual
x == y     Igual
x != y     No es igual
```

Puede formar expresiones booleanas m√°s complejas usando

`and`, `or`, `not`

Aqu√≠ est√°n algunos ejemplos:

```python
if b >= a and b <= c:
    print('b est√° entre a y c')

if not (b < a or b > c):
    print('b todav√≠a est√° entre a y c')
```

### 1.3.6: Convirtiendo numeros

El nombre del tipo se puede utilizar para convertir valores:

```python
a = int(x)    # Convierte x a entero
b = float(x)  # Convierte x a coma flotante
```

Try it out.

```python
>>> a = 3.14159
>>> int(a)
3
>>> b = '3.14159' # Tambi√©n funciona con cadenas de numeros
>>> float(b)
3.14159
>>>
```

### 1.3.7: Ejercicios

Recordatorio: Estos ejercicios asumen que est√° trabajando en el directorio `/Work`. Busque el archivo `hipoteca.py`.

#### Ejercicio 1.7: La hipoteca de Dave

Dave ha decidido sacar una hipoteca de tasa fija a 30 a√±os de `$500,000` con el comercio de hipotecas, inversiones en acciones y Bitcoin de Guido corporaci√≥n. La tasa de inter√©s es del 5% y el pago mensual es `$2684,11`.

Aqu√≠ hay un programa que calcula la cantidad total que Dave tendr√° para pagar durante la vida de la hipoteca:


```python
# mortgage.py

capital = 500000.0
tasa = 0.05
pago = 2684.11
total_pagado = 0.0

while capital > 0:
    capital = capital * (1 + tasa / 12) - pago
    total_pagado = total_pagado + pago

print('Total pagado', total_pagado)
```

Ingrese a este programa y ejec√∫telo. Deber√≠a obtener una respuesta de "966,279.6".

#### Ejercicio 1.8: Pagos adicionales

Suponga que Dave paga `$1000` adicionales al mes durante los primeros 12 meses de la hipoteca.

Modifique el programa para incorporar este pago adicional y haga que imprima el monto total pagado junto con la cantidad de meses requeridos.

Cuando ejecute el nuevo programa, deber√≠a informar un pago total de `929,965.62` durante 342 meses.

#### Ejercicio 1.9: Hacer una calculadora de pago adicional

Modifique el programa para que la informaci√≥n de pago adicional pueda manejarse de manera m√°s general.

H√°galo de modo que el usuario pueda configurar estas variables:

```python
extra_pago_inicio_mes = 61
extra_pago_fin_mes = 108
extra_pago = 1000
```

Haga que el programa mire estas variables y calcule el total pagado adecuadamente.

¬øCu√°nto pagar√° Dave si paga $1000 adicionales al mes durante 4 a√±os a partir de la primera
ya se han pagado cinco a√±os?

#### Ejercicio 1.10: Crear una tabla

Modifique el programa para imprimir una tabla que muestre el mes, el total pagado hasta el momento y el capital restante.

La salida deber√≠a verse as√≠:

```code
1 2684.11 499399.22
2 5368.22 498795.94
3 8052.33 498190.15
4 10736.44 497581.83
5 13420.55 496970.98
...
308 874705.88 3478.83
309 877389,99 809,21
310 880074.1 -1871.53
Total pagado 880074,1
Meses 310
```

#### Ejercicio 1.11: Bono

Mientras lo hace, corrija el programa para corregir el pago en exceso que se produjo en el √∫ltimo mes.

#### Ejercicio 1.12: Un misterio

`int()` y `float()` se pueden usar para convertir n√∫meros.

Por ejemplo:

```python
>>> int("123")
123
>>> float("1.23")
1.23
>>>
```

Con eso en mente, ¬øpuede explicar este comportamiento?

```python
>>> bool("False")
True
>>>
```

## 1.4 Cadenas

Esta secci√≥n presenta formas de trabajar con texto.

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/cadenas#contenido.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

### 1.4.1: Representando texto literal

Los literales de cadena se escriben en programas con comillas.

```python
# Comillas simples
a = 'S√≠, pero no, pero s√≠, pero ...'

# Comillas dobles
b = "la computadora dice que no"

# Comillas triples
c = '''
M√≠rame a los ojos, m√≠rame a los ojos, los ojos, los ojos, los ojos, no alrededor de los ojos, no mires alrededor de los ojos, m√≠rame a los ojos, est√°s debajo.
'''
```

Normalmente, las cadenas solo pueden abarcar una sola l√≠nea. Las comillas triples capturan todo el texto incluido en varias l√≠neas
incluido todo el formato.

No hay diferencia entre usar simple (') versus doble (") citas. *Sin embargo, se debe utilizar el mismo tipo de cita que se utiliza para iniciar una cadena como para terminarla*.

### 1.4.2: C√≥digo de escape de cadenas

Los c√≥digos de escape se utilizan para representar caracteres de control y caracteres que no se pueden escribir f√°cilmente directamente en el teclado. A continuaci√≥n, se muestran algunos c√≥digos de escape comunes:

```code
'\n' salto de l√≠nea
'\r' Retorno de carro
'\t' Pesta√±a
'\'' Literal comilla simple
'\'  Literal comillas dobles
'\\' Barra invertida literal
```

### 1.4.3: Representaci√≥n de cadenas

Cada car√°cter de una cadena se almacena internamente como un denominado "punto de c√≥digo" Unicode, que es un entero. Puede especificar un valor de punto de c√≥digo exacto mediante las siguientes secuencias de escape:

```python
a = '\xf1'          # a = '√±'
b = '\u2200'        # b = '‚àÄ'
c = '\U0001D122'    # c = 'ùÑ¢'
d = '\N{FOR ALL}'   # d = '‚àÄ'
```

La [Base de datos de caracteres Unicode] (https://unicode.org/charts) es una referencia para todos los c√≥digos de caracteres disponibles.

### 1.4.4: Indexaci√≥n de cadenas

Las cadenas funcionan como una matriz para acceder a caracteres individuales. Utiliza un √≠ndice entero, comenzando en 0.
Los √≠ndices negativos especifican una posici√≥n relativa al final de la cadena.

```python
a = 'Hello world'
b = a[0]          # 'H'
c = a[4]          # 'o'
d = a[-1]         # 'd' (final de la cadena)
```

Tambi√©n puede dividir o seleccionar subcadenas especificando un rango de √≠ndices con `:`.

```python
d = a[:5]     # 'Hello'
e = a[6:]     # 'world'
f = a[3:8]    # 'lo wo'
g = a[-5:]    # 'world'
```

El car√°cter del √≠ndice final no est√° incluido. Los √≠ndices que faltan asumen el principio o el final de la cadena.

### 1.4.5: Operaciones de cadena

Concatenaci√≥n, tama√±o, pertenencia y replicaci√≥n.


```python
# concatenaci√≥n (+)
a = 'Hola' + 'Mundo'   # 'HolaMundo'
b = 'Diga ' + a          # 'Diga HolaMundo'

# tama√±o (len)
s = 'Hola'
len(s)                  # 5

# prueba de pertenencia (`in`, `not in`)
t = 'e' in s            # Cierto
f = 'x' in s            # Falso
g = 'hi' not in s       # Cierto

# replicaci√≥n (s * n)
rep = s * 5             # 'HolaHolaHolaHola'
```

### 1.4.6: Metodos de cadena

Las cadenas tienen m√©todos que realizan varias operaciones con los datos de la cadena.

Ejemplo: eliminar cualquier espacio en blanco inicial / final.

```python
s = '  Hola '
t = s.strip()     # 'Hola'
```

Ejemplo: conversi√≥n de casos.

```python
s = 'Hola'
l = s.lower()     # 'hola'
u = s.upper()     # 'HOLA'
```

Ejemplo: Reemplazo de texto.

```python
s = 'Hola mundo'
t = s.replace('Hola' , 'Halo')   # 'Halo mundo'
```

#### Otros metodos de cadena

Las cadenas tienen una amplia variedad de otros m√©todos para probar y manipular los datos de texto.

Esta es una peque√±a muestra de m√©todos:

```python
s.endswith(sufijo) 	 # Compruebe si la cadena termina con sufijo
s.find(t) 			 # Primera aparici√≥n de t en s
s.index(t) 			 # Primera aparici√≥n de t en s
s.isalpha() 		 # Comprueba si los caracteres son alfab√©ticos
s.isdigit() 		 # Comprueba si los caracteres son num√©ricos
s.islower() 		 # Comprueba si los caracteres son min√∫sculas
s.isupper() 		 # Comprueba si los caracteres est√°n en may√∫sculas
s.join(slist) 		 # √önase a una lista de cadenas usando s como delimitador
s.lower() 			 # Convertir a min√∫sculas
s.replace(antiguo, nuevo) # Reemplazar texto
s.rfind(t) 			 # Busca t desde el final de la cadena
s.rindex(t) 		 # Busca t desde el final de la cadena
s.split([delim]) 	 # Dividir cadena en lista de subcadenas
s.startswith(prefix) # Compruebe si la cadena comienza con prefijo
s.strip() 			 # Franja el espacio inicial / final
s.upper() 			 # Convertir a may√∫sculas
```

### 1.4.7: Mutabilidad de cadenas

Las cadenas son "inmutables" o de solo lectura.
Una vez creado, el valor no se puede cambiar.

```python
>>> s = 'Hello World'
>>> s[1] = 'a'
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
TypeError: 'str' object does not support item assignment
>>>
```

**Todas las operaciones y m√©todos que manipulan datos de cadenas, siempre crean cadenas nuevas.**

### 1.4.8: Conversiones de cadena

Utilice `str ()` para convertir cualquier valor en una cadena. El resultado es una cadena que sostiene el mismo texto que habr√≠a sido producido por la declaraci√≥n `print ()`.


```python
>>> x = 42
>>> str(x)
'42'
>>>
```

### 1.4.9: Cadenas byte

Una cadena de bytes de 8 bits, que se encuentra com√∫nmente con I/O de bajo nivel, se escribe de la siguiente manera:

```python
data = b'Hola Mundo\r\n'
```
Al poner una b peque√±a antes de la primera cita, especificas que es una cadena de bytes en lugar de una cadena de texto.

La mayor√≠a de las operaciones habituales con cadenas funcionan.

```python
len(data)                         # 13
data[0:5]                         # b'Hola'
data.replace(b'Hello', b'Cruel')  # b'Cruel Mundo\r\n'
```

La indexaci√≥n es un poco diferente porque devuelve valores de bytes como n√∫meros enteros.

```python
data[0]   # 72 (ASCII code for 'H')
```

Conversion to/from text strings.

```python
text = data.decode('utf-8') # bytes -> texto
data = text.encode('utf-8') # texto -> bytes
```

El argumento `'utf-8'` especifica una codificaci√≥n de caracteres. Otros comunes
los valores incluyen `'ascii'` y`' latin1'`.

### 1.4.10: Cadenas crudas

Las cadenas sin formato son literales de cadena con una barra invertida no interpretada. Se especifican anteponiendo la cita inicial con una "r" min√∫scula.

```python
>>> rs = r'c:\newdata\test' # Sin formato (barra invertida no interpretada)
>>> rs
'c:\\newdata\\test'
```

La cadena es el texto literal incluido adentro, exactamente como se escribe.
Esto es √∫til en situaciones en las que la barra invertida tiene significado. Ejemplo: nombre de archivo, expresiones regulares, etc.

### 1.4.11: Cadenas `f`

Una cadena con sustituci√≥n de expresi√≥n formateada.

```python
>>> nombre = 'IBM'
>>> acciones = 100
>>> precio = 91.1
>>> a = f'{nombre:>10s} {acciones:10d} {precio:10.2f}'
>>> a
'       IBM        100      91.10'
>>> b = f'Costo = ${acciones * precio:0.2f}'
>>> b
'Costo = $9110.00'
>>>
```

**Nota: Esto requiere Python 3.6 o m√°s reciente.** El significado de los c√≥digos de formato se explica m√°s adelante.

### 1.4.12: Ejercicios

En estos ejercicios, experimentar√° con operaciones en Python tipo de cadena. Debe hacer esto en el indicador interactivo de Python donde puede ver f√°cilmente los resultados.

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/cadenas#ejercicios.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

Nota IMPORTANTE:
> En los ejercicios en los que se supone que debe interactuar con el int√©rprete,
> `>>>` es el indicador del int√©rprete que obtienes cuando Python quiere
> que escriba una nueva declaraci√≥n. Algunas declaraciones en el per√≠odo de ejercicios
> varias l√≠neas: para que se ejecuten estas declaraciones, es posible que deba presionar
> 'volver' unas cuantas veces. Solo un recordatorio de que * NO * escribe
> el `>>>` al trabajar con estos ejemplos.

Empiece por definir una cadena que contenga una serie de s√≠mbolos de cotizaci√≥n burs√°til como este:

```python
>>> simbolos = 'AAPL,IBM,MSFT,YHOO,SCO'
>>>
```
#### Ejercicio 1.13: Extracci√≥n de caracteres individuales y subcadenas

Las cadenas son matrices de caracteres. Intente extraer algunos caracteres:

```python
>>> simbolos[0]
?
>>> simbolos[1]
?
>>> simbolos[2]
?
>>> simbolos[-1]        # Ultimo caracter
?
>>> simbolos[-2]        # Indices negativos son desde el final
?
>>>
```

En Python, las cadenas son de solo lectura.
Verifique esto intentando cambiar el primer car√°cter de 's√≠mbolos' a una min√∫scula 'a'.

```python
>>> simbolos[0] = 'a'
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'str' object does not support item assignment
>>>
```

#### Ejercicio 1.14: Concatenaci√≥n de caracteres

A pesar de que el valor de la cadena es solo para leer, siempre puedes reasignarle otra variable a una cadena nueva. 

Intenta realalizar la siguientes sentencias que concatenan a un nuevo s√≠mbolo "GOOG" al final de `simbolos`:


```python
>>> simbolos= simbolos + 'GOOG'
>>> simbolos
'AAPL,IBM,MSFT,YHOO,SCOGOOG'
>>>
```

¬°Ups! Eso no es lo que quer√≠as. Corr√≠jelo para que la variable `s√≠mbolos` contenga el valor` 'AAPL, IBM, MSFT, YHOO, SCO, GOOG'`.

```python
>>> simbolos= ?
>>> simbolos
'AAPL,IBM,MSFT,YHOO,SCO,GOOG'
>>>
```

Agregue `'HPQ'` al frente de la cuerda

```python
>>> simbolos = ?
>>> simbolos
'HPQ,AAPL,IBM,MSFT,YHOO,SCO,GOOG'
>>>
```

En estos ejemplos, puede parecer que la cadena original est√° siendo modificado, en una aparente violaci√≥n de que las cadenas sean de solo lectura. No entonces. Las operaciones en cadenas crean una cadena completamente nueva cada una hora. Cuando se reasigna el nombre de la variable `simbolos`, apunta al cadena reci√©n creada.  Posteriormente, la cuerda vieja se destruye ya que ya no se usa.

#### Ejercicio 1.15: Pruebas de membres√≠a

Experimente con el operador "in" para buscar subcadenas. En el mensaje interactivo, pruebe estas operaciones:

```python
>>> 'IBM' in simbolos
?
>>> 'AA' in simbolos
True
>>> 'CAT' in simbolos
?
>>>
```

¬øPor qu√© la comprobaci√≥n de `'AA'` devolvi√≥ `True`?

#### Ejercicio 1.16: M√©todos de cadenas

En el indicador interactivo de Python, intente experimentar con algunos de los m√©todos de cadena.

```python
>>> simbolos.lower()
?
>>> simbolos
?
>>>
```

Recuerde, las cadenas siempre son de solo lectura. Si desea guardar el resultado de una operaci√≥n, debe colocarlo en una variable:

```python
>>> simbolosminusc = simbolos.lower()
>>>
```

Pruebe algunas operaciones m√°s:


```python
>>> simbolos.find('MSFT')
?
>>> simbolos[13:17]
?
>>> simbolos = simbolos.replace('SCO','DOA')
>>> simbolos
?
>>> nombre = '   IBM   \n'
>>> nombre = nombre.strip()  # Eliminar los espacios en blanco restantes
>>> nombre
?
>>>
```

#### Ejercicio 1.17: f-strings

A veces desea crear una cadena e incrustar los valores de
variables en √©l.

Para hacer eso, use una f-string. Por ejemplo:

```python
>>> nombre = 'IBM'
>>> acciones = 100
>>> precio = 91.1
>>> f'{acciones} acciones de {nombre} a ${precio:0.2f}'
'100 acciones de IBM a $91.10'
>>>
```

Modifique el programa de *hipoteca Dave* `mortgage.py` del Ejercicio 1.10 para crear su salida usando f-strings.
Intente hacer que la salida est√© bien alineada.


#### Ejercicio 1.18: Expresiones regulares

Una limitaci√≥n de las operaciones b√°sicas con cadenas es que no admite cualquier tipo de coincidencia de patrones avanzada. Por eso tu Necesito recurrir al m√≥dulo `re` y las expresiones regulares de Python. El manejo de expresiones regulares es un gran tema, pero aqu√≠ hay un breve ejemplo:

```python
>>> texto= 'Hoy es 3/27/2018. Ma√±a√±a sera 3/28/2018.'
>>> # Encontrar todos los eventos de una fecha
>>> import re
>>>  re.findall(r'\d+/\d+/\d+', texto)

['3/27/2018', '3/28/2018']
>>> # Replace all occurrences of a date with replacement text
# Reemplazar todos los sucesos de una fecha con el texto de reemplazo

>>> re.sub(r'(\d+)/(\d+)/(\d+)', r'\3-\1-\2', texto)
'Hoy es 2018-3-27. Ma√±ana ser√° 2018-3-28.'
>>>
```

Para obtener m√°s informaci√≥n sobre el m√≥dulo `re`, consulte la documentaci√≥n oficial en
[https://docs.python.org/library/re.html](https://docs.python.org/3/library/re.html).

#### Algunos comentarios

A medida que comienza a experimentar con el int√©rprete, a menudo desea conocer m√°s sobre las operaciones soportadas por diferentes objetos. Por ejemplo, ¬øc√≥mo averigua qu√© operaciones est√°n disponibles en un cadena?

Dependiendo de su entorno de Python, es posible que pueda ver una lista de los m√©todos disponibles mediante el completado con tabulaci√≥n. Por ejemplo, intente escribir
esta:


```python
>>>  s = 'hola mundo'
>>> s.<tab key>
>>>
```

Si presionar tab no hace nada, puede volver al funci√≥n incorporada `dir()`. Por ejemplo:

```python
>>> s= 'hola'
>>> dir(s)
['__add__', '__class__', '__contains__', ..., 'find', 'format',
'index', 'isalnum', 'isalpha', 'isdigit', 'islower', 'isspace',
'istitle', 'isupper', 'join', 'ljust', 'lower', 'lstrip', 'partition',
'replace', 'rfind', 'rindex', 'rjust', 'rpartition', 'rsplit',
'rstrip', 'split', 'splitlines', 'startswith', 'strip', 'swapcase',
'title', 'translate', 'upper', 'zfill']
>>>
```

`dir()` produce una lista de todas las operaciones que pueden aparecer despu√©s de `(.)`. Utilice el comando `help()` para obtener m√°s informaci√≥n sobre una operaci√≥n espec√≠fica:


```python
>>> help(s.upper)
Help on built-in function upper:
Ayuda para construir una funci√≥n en may√∫scula:

upper(...)
    S.upper() -> string

    Return a copy of the string S converted to uppercase.
>>>
```
####

## 1.5 Listas

Esta secci√≥n presenta listas, el tipo principal de Python para contener una colecci√≥n ordenada de valores.

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/listas#contenido.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

### 1.5.1: Creando una lista

Utilice corchetes para definir un literal de lista:

```python
nombres = [ 'Elwood', 'Jake', 'Curtis' ]
numeros = [39, 38, 42, 65, 111]
```

En ocasiones las listas son creadas por otros metodos. Por ejemplo, una cadena puede ser dividida haciendo uso del m√©todo `split()`.

```python
>>> linea = 'GOOG,100,490.10'
>>> fila = line.split(',')
>>> fila
['GOOG', '100', '490.10']
>>>
```

### 1.5.2: Operaciones de lista

Las listas pueden contener elementos de cualquier tipo. Agregue un nuevo elemento usando `append()`:

```python
nombres.append('Murphy')    # Agrega al final
nombres.insert(2, 'Aretha') # Inserta en el medio
```

Use + para concatenar listas:

```python
s = [1, 2, 3]
t = ['a', 'b']
s + t           # [1, 2, 3, 'a', 'b']
```

Las listas est√°n indexadas por n√∫meros enteros. A partir de 0.

```python
nombres = [ 'Elwood', 'Jake', 'Curtis' ]

nombres[0]  # 'Elwood'
nombres[1]  # 'Jake'
nombres[2]  # 'Curtis'
```

Los √≠ndices negativos cuentan desde el final.

```python
nombres[-1] # 'Curtis'
```

Puede cambiar cualquier elemento de una lista.

```python
nombres[1] = 'Joliet Jake'
nombres  # [ 'Elwood', 'Joliet Jake', 'Curtis' ]
```

Length of the list.


```python
nombres = ['Elwood','Jake','Curtis']
len(nombres)  # 3
```

Prueba de pertenencia (`in`, `not in`)

```python
'Elwood' in nombres       # True
'Britney' not in nombres  # True
```

Replicaci√≥n (`s * n`).

```python
s = [1, 2, 3]
s * 3   # [1, 2, 3, 1, 2, 3, 1, 2, 3]
```

### 1.5.3: Iteracion de lista y b√∫squeda

Utilice `for` para iterar sobre el contenido de la lista.

```python
for nombre in nombres:
    # use nombre
    # e.g. print(nombre)
    ...
```

Esto es similar a una declaraci√≥n `foreach` de otros lenguajes de programaci√≥n.

Para encontrar la posici√≥n de algo r√°pidamente, use `index()`.

```python
nombres = ['Elwood','Jake','Curtis']
nombres.index('Curtis')   # 2
```

Si el elemento est√° presente m√°s de una vez, `index()` devolver√° el √≠ndice de la primera aparici√≥n.

Si el elemento no se encuentra, generar√° una excepci√≥n "ValueError".

### 1.5.4: Remoci√≥n en lista

Puede eliminar elementos por valor de elemento o por √≠ndice:

```python
# Using the value
nombres.remove('Curtis')

# Using the index
del nombres[1]
```

Eliminar un art√≠culo no crea un agujero. Otros elementos se mover√°n hacia abajo para llenar el espacio desocupado. Si hay m√°s de una aparici√≥n del elemento, `remove()` eliminar√° solo la primera aparici√≥n.

### 1.5.5: Ordenar una lista

Las listas se pueden ordenar "in situ".

```python
s = [10, 1, 7, 3]
s.sort()                    # [1, 3, 7, 10]

# Reverse order
s = [10, 1, 7, 3]
s.sort(reverse=True)        # [10, 7, 3, 1]

# It works with any ordered data
s = ['foo', 'bar', 'spam']
s.sort()                    # ['bar', 'foo', 'spam']
```

Utilice `sorted()` si desea crear una nueva lista en su lugar:

```python
t = sorted(s)  # s sin cambios, t tiene los valores ordenados
```

### 1.5.6: Listas y matem√°ticas

*Caution: Lists were not designed for math operations.*

```python
>>> nombres = [1, 2, 3, 4, 5]
>>> nombres * 2
[1, 2, 3, 4, 5, 1, 2, 3, 4, 5]
>>> nombres + [10, 11, 12, 13, 14]
[1, 2, 3, 4, 5, 10, 11, 12, 13, 14]
```

Espec√≠ficamente, las listas no representan vectores/matrices como en MATLAB, Octave, R, etc. Sin embargo, existen algunos m√≥dulos/paquetes/librer√≠as que le ayudan con eso (e.g. [numpy](https://numpy.org))

### 1.5.7: Ejercicios

En este ejercicio, experimentaremos con listas. En la ultima secci√≥n trabajamos con cadenas conteniendo s√≠mbolos de acciones de bolsa valores.

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/listas#ejercicios.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*


```python
>>> symbols = 'HPQ,AAPL,IBM,MSFT,YHOO,DOA,GOOG'
```

Divida la cadena en una lista de nombres haciendo uso de la operacion `split()` de cadenas:

```python
>>> symlist = symbols.split(',')
```

#### Ejercicio 1.19: Extracci√≥n y reasignaci√≥n de elementos

Pruebe algunas busquedas:

```python
>>> symlist[0]
'HPQ'
>>> symlist[1]
'AAPL'
>>> symlist[-1]
'GOOG'
>>> symlist[-2]
'DOA'
>>>
```

Intente reasignar un valor:

```python
>>> symlist[2] = 'AIG'
>>> symlist
['HPQ', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'DOA', 'GOOG']
>>>
```

Agarre unos pedazos:

```
>>> symlist[0:3]
['HPQ', 'AAPL', 'AIG']
>>> symlist[-2:]
['DOA', 'GOOG']
```

Crea una lista vac√≠a y agregue un elemento.

```python
>>> mysyms = []
>>> mysyms.append('GOOG')
>>> mysyms
['GOOG']
```

Puede reasignar una porci√≥n de la lista a otra lista. Por ejemplo:

```python
>>> symlist[-2:] = mysyms
>>> symlist
['HPQ', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'GOOG']
>>>
```

Cuando hace esto, la lista en el lado izquierdo  (`symlist`) ser√° reajustada apropiadamente para que el lado derecho (`mysyms`) ocupe un puesto en ella.

#### Ejercicio 1.20: Ciclando sobre una lista

El ciclo/bucle `for` funciona ciclando sobre data en una secuencia la lista. Pruebe lo siguiente:

```python
>>> for s in symlist:
... 	print('s =', s)
```

#### Ejercicio 1.21: Pruebas de pertenencia

Utilice el operador `in` o ` not in` para comprobar si `'AIG'`,`'AA'` y `'CAT'` est√°n en la lista de s√≠mbolos.

```python
>>> # Est√° 'AIG' en `symlist`?
True
>>> # Est√° 'AA' en `symlist`?
False
>>> # 'CAT' no esta en `symlist`?
True
>>>
```

#### Ejercicio 1.22: A√±adiendo, insertando y borrando elementos

Utilice el m√©todo `append()` para agregar el s√≠mbolo `'RHT'` al final de` symlist`.

```python
>>> # agregue 'RHT'
>>> symlist
['HPQ', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'GOOG', 'RHT']
>>>
```

Utilice el m√©todo `insert()` para insertar el s√≠mbolo `'AA'` como el segundo elemento de la lista.

```python
>>> # Agregue 'AA' como segundo item en la lista
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'GOOG', 'RHT']
>>>
```

Utilice el m√©todo `remove()` para eliminar `'MSFT'` de la lista.

```python
>>> # Remueva 'MSFT'
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'YHOO', 'GOOG', 'RHT']
>>>
```

A√±ada una entrada duplicada para `'YHOO'` al final de la lista.

*Nota: est√° perfectamente bien si una lista tenga valores duplicados.*

```python
>>> # Append 'YHOO'
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'YHOO', 'GOOG', 'RHT', 'YHOO']
>>>
```

Utilice el m√©todo `index()` para encontrar la primera posici√≥n de `'YHOO'` en la lista.

```python
>>> # Encuentre el primer √≠ndice de 'YHOO'
4
>>> symlist[4]
'YHOO'
>>>
```

Cuente cu√°ntas veces `'YHOO'` est√° en la lista:

```python
>>> symlist.count('YHOO')
2
>>>
```

Remueva la primera ocurrencia de `'YHOO'`.

```python
>>> # Remueva primera ocurrencia de 'YHOO'
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'GOOG', 'RHT', 'YHOO']
>>>
```

Para su informaci√≥n, no existe ning√∫n m√©todo para buscar o eliminar todas las apariciones de un elemento Sin embargo, veremos una forma elegante de hacer esto en la secci√≥n 2.

#### Ejercicio 1.23: Ordernando

¬øQuieres ordenar una lista? Utilice el m√©todo `sort()`. Pru√©balo:

```python
>>> symlist.sort()
>>> symlist
['AA', 'AAPL', 'AIG', 'GOOG', 'HPQ', 'RHT', 'YHOO']
>>>
```

¬øQuiere ordenar al rev√©s? Prueba esto:

```python
>>> symlist.sort(reverse=True)
>>> symlist
['YHOO', 'RHT', 'HPQ', 'GOOG', 'AIG', 'AAPL', 'AA']
>>>
```

Nota: ordenar una lista modifica su contenido "en el lugar". Es decir, los elementos de la lista se mezclan, pero no se crea una nueva lista como resultado.

#### Ejercicio 1.24: Ajuntando todo nuevamente

¬øQuiere tomar una lista de cadenas y unirlas en una sola cadena?
Utilice el m√©todo `join ()` de cadenas como esta (nota: esto se ve gracioso al principio).

```python
>>> a = ','.join(symlist)
>>> a
'YHOO,RHT,HPQ,GOOG,AIG,AAPL,AA'
>>> b = ':'.join(symlist)
>>> b
'YHOO:RHT:HPQ:GOOG:AIG:AAPL:AA'
>>> c = ''.join(symlist)
>>> c
'YHOORHTHPQGOOGAIGAAPLAA'
>>>
```

#### Ejercicio 1.25: Listas de cualquier cosa

Las listas pueden contener cualquier tipo de objeto, incluidas otras listas (por ejemplo, listas anidadas).
Probar esto:

```python
>>> nums = [101, 102, 103]
>>> items = ['spam', symlist, nums]
>>> items
['spam', ['YHOO', 'RHT', 'HPQ', 'GOOG', 'AIG', 'AAPL', 'AA'], [101, 102, 103]]
```
Preste mucha atenci√≥n a la salida anterior. `items` es una lista con tres elementos.
El primer elemento es una cadena, pero los otros dos elementos son listas.

Puede acceder a los elementos de las listas anidadas mediante varias operaciones de indexaci√≥n.


```python
>>> items[0]
'spam'
>>> items[0][0]
's'
>>> items[1]
['YHOO', 'RHT', 'HPQ', 'GOOG', 'AIG', 'AAPL', 'AA']
>>> items[1][1]
'RHT'
>>> items[1][1][2]
'T'
>>> items[2]
[101, 102, 103]
>>> items[2][1]
102
>>>
```

Aunque t√©cnicamente es posible hacer estructuras muy complicadas compuestas por listas, como regla general, es preferible mantener las cosas simples.

Por lo general, las listas contienen elementos que tienen el mismo tipo de valor. Por ejemplo, una lista que consta completamente de n√∫meros o una lista de texto de cadena. Mezclar diferentes tipos de datos en la misma lista es a menudo un buen dolor de cabeza, por lo que es mejor evitarlo.

## 1.6 Archivos

La mayor√≠a de los programas necesitan leer la entrada de alg√∫n lugar. Esta secci√≥n discute sobre el acceso a archivos.

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/archivos#contenido.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

### 1.6.1: Entrada y Salida de un Archivo

Abre un archivo.

```python
f = open('foo.txt', 'rt')     # Open for reading (text)
g = open('bar.txt', 'wt')     # Open for writing (text)
```

Lee toda la data.


```python
data = f.read()
data = f.read([maxbytes])  # Read only up to 'maxbytes' bytes
```

Escribe algo de texto.

```python
g.write('some text')
```

Cierra cuando terminas.

```python
f.close()
g.close()
```

Files should be properly closed and it's an easy step to forget.
Thus, the preferred approach is to use the `with` statement like this.

```python
with open(filename, 'rt') as file:
    # Haz uso del archivo "file"
    ...
    # No hay necesidad de cerrar expl√≠citamente
...statements
```

Esto cierra autom√°ticamente el archivo cuando el control abandona el bloque de c√≥digo con sangr√≠a.

### 1.6.2: Patrones comunes de lectura de archivos

Leer un archivo completo de una vez como una cadena.

```python
with open('foo.txt', 'rt') as file:
    data = file.read()
    # `data` is a string with all the text in `foo.txt`
```

Leer un archivo l√≠nea por l√≠nea iterando.

```python
with open(filename, 'rt') as file:
    for line in file:
        # Process the line
```

### 1.6.3: Patrones comunes de escritura de archivos

Escribe data en cadena.

```python
with open('outfile', 'wt') as out:
    out.write('Hello World\n')
    ...
```

Redireccionando la funci√≥n de impresi√≥n.

```python
with open('outfile', 'wt') as out:
    print('Hola Mundo', file=out)
    ...
```

### 1.6.4: Ejercicios

Estos ejercicios dependen de un archivo `Data/portfolio.csv`. El archivo
contiene una lista de l√≠neas con informaci√≥n sobre una cartera de acciones.
Se supone que est√° trabajando en el archivo `./Work/` directorio.

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/archivos#ejercicios.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

#### 1.26: Prerequisitos

Primero, intente leer todo el archivo a la vez en una cadena grande:

```python
>>> with open('Data/portfolio.csv', 'rt') as f:
        data = f.read()

>>> data
'name,shares,price\n"AA",100,32.20\n"IBM",50,91.10\n"CAT",150,83.44\n"MSFT",200,51.23\n"GE",95,40.37\n"MSFT",50,65.10\n"IBM",100,70.44\n'
>>> print(data)
name,shares,price
"AA",100,32.20
"IBM",50,91.10
"CAT",150,83.44
"MSFT",200,51.23
"GE",95,40.37
"MSFT",50,65.10
"IBM",100,70.44
>>>
```

En el ejemplo anterior, cabe se√±alar que Python tiene dos modos de salida. En el primer modo, donde aparece ">>> data" en el indicador, Python muestra la representaci√≥n de la cadena sin procesar, incluidas las comillas y c√≥digos de escape. Cuando escribe `print(data)`, obtiene el formato real de salida de la cadena.

Para leer un archivo l√≠nea por l√≠nea, use un bucle `for` como √©ste:

```python
>>> with open('Data/portfolio.csv', 'rt') as f:
        for line in f:
            print(line, end='')

name,shares,price
"AA",100,32.20
"IBM",50,91.10
...
>>>
```

En determinadas ocasiones, es posible que desee leer u omitir manualmente una *√∫nica* l√≠nea de texto (por ejemplo, tal vez desee omitir la primera l√≠nea de los encabezados de columna).


```python
>>> f = open('Data/portfolio.csv', 'rt')
>>> headers = next(f)
>>> headers
'name,shares,price\n'
>>> for line in f:
    print(line, end='')

"AA",100,32.20
"IBM",50,91.10
...
>>> f.close()
>>>
```

`next()` devuelve la siguiente l√≠nea de texto en el archivo. Si lo llamara repetidamente, obtendr√≠a l√≠neas sucesivas. Sin embargo, para que lo sepa, el ciclo `for` hace uso de` next()` para obtener sus datos. Por lo tanto, normalmente no lo llamar√≠a directamente a menos que est√© tratando de omitir o leer expl√≠citamente una sola l√≠nea como se muestra.

Una vez que est√© leyendo las l√≠neas de un archivo, puede comenzar a realizar m√°s procesamiento, como dividir.

Por ejemplo, intente esto:

```python
>>> f = open('Data/portfolio.csv', 'rt')
>>> headers = next(f).split(',')
>>> headers
['name', 'shares', 'price\n']
>>> for line in f:
    row = line.split(',')
    print(row)

['"AA"', '100', '32.20\n']
['"IBM"', '50', '91.10\n']
...
>>> f.close()
```

*Nota: En estos ejemplos, `f.close()` se llama expl√≠citamente porque no se utiliza la instrucci√≥n `with`.*

#### Ejercicio 1.27: Leyendo de un archivo

Ahora que sabe c√≥mo leer un archivo, escribamos un programa para realizar un c√°lculo.

Las columnas de `portfolio.csv` corresponden al nombre de la acci√≥n, n√∫mero de acciones, y precio de compra de una sola participaci√≥n accionaria. Escribe un programa llamado `pcost.py` que abre este archivo, lee todas las l√≠neas y calcula cu√°nto cost√≥ comprar todas las acciones en la cartera (portfolio).

*Sugerencia: para convertir una cadena en un entero, use `int(s)`. Para convertir una cadena en punto flotante, use `float(s)`.*

Su programa deber√≠a imprimir un resultado como el siguiente:

```code
Costo total 44671.15
```

#### Ejercicio 1.28: Otro tipo de "archivos"

¬øY si quisiera leer un archivo que no es de texto, como un archivo comprimido gzip?
La funci√≥n integrada `open()` no le ayudar√° aqu√≠, pero Python tiene un m√≥dulo `gzip` que puede leer archivos comprimidos gzip.

```python
>>> import gzip
>>> with gzip.open('Data/portfolio.csv.gz', 'rt') as f:
    for line in f:
        print(line, end='')

... mira la salida ...
>>>
```

Nota: Incluir el modo de archivo de `'rt'` es fundamental aqu√≠. Si olvidas eso
obtendr√° cadenas de bytes en lugar de cadenas de texto normales.

#### Algunos comentarios

Los cient√≠ficos de datos se apresuran a se√±alar que librerias como [Pandas](https://pandas.pydata.org) ya tienen una funci√≥n para leer archivos CSV. Esto es cierto y funciona bastante bien. Sin embargo, este no es un curso sobre c√≥mo aprender pandas. Leer archivos es un problema m√°s general que las espec√≠ficaciones de archivos CSV.

La raz√≥n principal por la que trabajamos con un archivo CSV es porque es un formato conocido para la mayor√≠a de los programadores y es relativamente f√°cil trabajarlo directamente - ilustrando muchas caracter√≠sticas de Python en el proceso. Entonces, por supuesto, use Pandas cuando regrese al trabajo. Para el resto de este curso, sin embargo, vamos a seguir con la funcionalidad est√°ndar de Python.

## 1.7 Funciones

A medida que sus programas comiencen a crecer, va a querer organizarse. Esta secci√≥n presenta brevemente las funciones y los m√≥dulos de la biblioteca est√°ndar. Tambi√©n se introduce el manejo de errores con excepciones.

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/funciones#contenido.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

### 1.7.1: Funciones personalizadas

Utilice funciones para el c√≥digo que desea reutilizar. Aqu√≠ hay una definici√≥n de funci√≥n:

```python
def sumcount(n):
    '''
    Retorna la suma de los primeros n enteros
    '''
    total = 0
    while n > 0:
        total += n
        n -= 1
    return total
```

Para llamar una funci√≥n.

```python
a = sumcount(100)
```

Una funci√≥n es una serie de declaraciones que realizan alguna tarea y devuelven un resultado. La palabra clave `return` es necesaria para especificar expl√≠citamente el valor de retorno de la funci√≥n.

### 1.7.2: Funciones de biblioteca

Python viene con una gran biblioteca est√°ndar.
Se accede a los m√≥dulos de la biblioteca usando `import`.
Por ejemplo:

```python
import math
x = math.sqrt(10)

import urllib.request
u = urllib.request.urlopen('http://www.python.org/')
data = u.read()
```

Cubriremos bibliotecas y m√≥dulos con m√°s detalle m√°s adelante.

### 1.7.3: Errores y excepciones

Las funciones informan sobre errores como las excepciones. Una excepci√≥n provoca la interrupci√≥n de una funci√≥n y puede hacer que todo el programa se detenga si no se maneja.

Prueba esto en tu REPL (read/lee, evaluate/evalua, print/imprime, cicla/loop) de Python.

```python
>>> int('N/A')
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
ValueError: invalid literal for int() with base 10: 'N/A'
>>>
```

Para fines de depuraci√≥n, el mensaje describe lo que sucedi√≥, d√≥nde ocurri√≥ el error, y un rastreo que muestra las otras llamadas a funciones que provocaron la falla.

### 1.7.4: Atrapando y gestionando excepciones

Las excepciones de pueden atrapar y gestionar.

Para atrapar, use la declaraci√≥n `try - except`.

```python
for linea in f:
    campos = linea.split()
    try:
        acciones = int(campos[1])
    except ValueError:
        print("No se pudo analizar", linea)
    ...
```

El nombre "ValueError" debe coincidir con el tipo de error que est√° intentando detectar.

A menudo es dif√≠cil saber exactamente qu√© tipo de errores pueden ocurrir de antemano dependiendo de la operaci√≥n que se est√© realizando. Para mejor o para peor, el manejo de excepciones a menudo se agrega *despu√©s* de que un programa fall√≥ inesperadamente (es decir, "oh, nos olvidamos de detectar ese error, deber√≠a gestionar eso! ").

### 1.7.5: Generando excepciones

Para generar una excepci√≥n, use la instrucci√≥n `raise`.

```python
raise RuntimeError('Que desorden')
```

Esto har√° que el programa se anule con un rastreo de excepci√≥n. A menos que sea atrapado por un bloque "try-except".

```bash
$ python3 foo.py
Traceback (most recent call last):
  File "foo.py", line 21, in <module>
    raise RuntimeError("Que desorden")
RuntimeError: What a kerfuffle
```

### 1.7.6: Ejercicios

*Nota: si desea hacer esta secci√≥n online, hemos puesto a disposici√≥n un editor, consola Python y terminal Linux en [repl.it](https://repl.it/@pythonpanama/funciones#ejercicios.md). De lo contrario, tendr√° que ejecutar instrucciones en su ordenador*

#### Ejercicio 1.29: Definiendo una funci√≥n

Intente definir una funci√≥n simple:

```python
>>> def saludo(nombre):
        'Genera un saludo'
        print('Hola', nombre)

>>> saludo('Guido')
Hola Guido
>>> saludo('Paula')
Hola Paula
>>>
```

Si la primera declaraci√≥n de una funci√≥n es una cadena, sirve como documentaci√≥n.

Intente escribir un comando como `help(saludo)` para que se muestre.

#### Ejercicio 1.30: Convirtiendo una secuencia de comandos en una funci√≥n

Tome el c√≥digo que escribi√≥ para el programa `pcost.py` en el Ejercicio 1.27 y convi√©rtalo en una funci√≥n `cartera_costo(nombre_de_archivo)`. La funci√≥n toma un nombre de archivo como entrada, lee los datos de la cartera en ese archivo y devuelve el costo total de la cartera como flotante.

Para usar su funci√≥n, cambie su programa para que se vea algo as√≠:

```python
def cartera_costo(nombre_de_archivo):
    ...
    # Su c√≥digo aqu√≠
    ...

costo = cartera_costo('Data/portfolio.csv')
print('Total cost:', costo)
```

Cuando ejecute su programa, deber√≠a ver el mismo resultado que antes.

Despu√©s de ejecutar su programa, tambi√©n puede llamar a su funci√≥n interactivamente escribiendo esto:

```bash
$ python3 -i pcost.py
```

Esto le permitir√° llamar a su funci√≥n desde el modo interactivo.

```python
>>> cartera_costo('Data/portfolio.csv')
44671.15
>>>
```


Being able to experiment with your code interactively is useful for testing and debugging.

#### Ejercicio 1.31: Administraci√≥n de errores

¬øQu√© sucede si prueba su funci√≥n en un archivo al que le faltan algunos campos?


```python
>>> cartera_costo('Data/missing.csv')
Traceback (most recent call last):
    File "<stdin>", line 1, in <module>
    File "pcost.py", line 11, in cartera_costo
    nshares    = int(fields[1])
ValueError: invalid literal for int() with base 10: ''
>>>
```

En este momento, tiene que tomar una decisi√≥n. Para que el programa funcione puede depurar el archivo de entrada eliminando las l√≠neas o puede modificar su c√≥digo para manejar las l√≠neas defectuosas de alguna forma.

Modifique el programa `pcost.py` para detectar la excepci√≥n, imprima una advertencia mensaje y contin√∫e procesando el resto del archivo.

#### Ejercicio 1.32: Usando una funci√≥n de biblioteca local

Python viene con una biblioteca est√°ndar de funciones √∫tiles.

Una biblioteca que podr√≠a ser √∫til aqu√≠ es el m√≥dulo `csv`. Debe usarlo siempre que tenga que trabajar con archivos de datos CSV.

A continuaci√≥n, se muestra un ejemplo de c√≥mo funciona:

```python
>>> import csv
>>> f = open('Data/portfolio.csv')
>>> rows = csv.reader(f)
>>> headers = next(rows)
>>> headers
['name', 'shares', 'price']
>>> for row in rows:
        print(row)

['AA', '100', '32.20']
['IBM', '50', '91.10']
['CAT', '150', '83.44']
['MSFT', '200', '51.23']
['GE', '95', '40.37']
['MSFT', '50', '65.10']
['IBM', '100', '70.44']
>>> f.close()
>>>
```

Una cosa buena sobre el m√≥dulo `csv` es que se ocupa de una variedad de detalles de bajo nivel como las comillas y la divisi√≥n adecuada por comas. En la salida anterior, notar√° que ha eliminado las comillas dobles lejos de los nombres en la primera columna.

Modifique su programa `pcost.py` para que use el m√≥dulo` csv` para analizar e intentar ejecutar ejemplos anteriores.

#### Ejercicio 1.33: Leyendo desde la l√≠nea de comando

En el programa `pcost.py`, el nombre del archivo de entrada se ha integrado en el c√≥digo:

```python
# pcost.py

def cartera_costo(filename):
    ...
    # Su c√≥digo aqu√≠
    ...

costo = cartera_costo('Data/portfolio.csv')
print('Total costo:', costo)
```

Est√° bien para aprender y probar, pero en un programa real probablemente no har√≠a eso. En su lugar, pudiera pasar el nombre del archivo como argumento a un archivo con una secuencia de comandos.

Intente cambiar la parte inferior del programa de la siguiente manera:


```python
# pcost.py
import sys

def cartera_costo(filename):
    ...
    # Su c√≥digo aqu√≠
    ...

if len(sys.argv) == 2:
    filename = sys.argv[1]
else:
    filename = 'Data/portfolio.csv'

costo = cartera_costo(filename)
print('Total costo:', costo)
```

`sys.argv` es una lista que contiene argumentos pasados en la l√≠nea de comando (si los hay).

Para ejecutar su programa, deber√° ejecutar Python desde la terminal.

Por ejemplo, desde bash en Unix:

```bash
bash % python3 pcost.py Data/portfolio.csv
Total cost: 44671.15
bash %
```
